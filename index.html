<link rel="stylesheet" href="styles.css">

<div id="app" v-cloak>
    <div>Network {{ networkName }}</div>
    <div>Current block {{ blockNumber }}</div>

    <h2>Account</h2>
    <p>
    <div>MetaMask account {{ accountAddress }}</div>
    <div>Balance {{ accountBalanceEth }} ETH</div>
    <div>Balance in contract {{ accountBalanceInContractEth }} ETH</div>
    </p>
    <p>
    <div><input v-model="amountEth" :disabled="isSending" placeholder="ETH amount"></label></div>
    <button @click="send" :disabled="isSending">Send to contract</button>
    </p>

    <h2>Contract</h2>
    <p>
    <div>Address {{ contractAddress }}</div>
    <div>Balance {{ contractBalanceEth }} ETH</div>
    </p>
    <p>
        <button @click="refund" :disabled="isRefunding">Request refund</button>
    </p>

    <h2>Status</h2>
    <p>
    <div v-if="transactionHash">
        {{ transactionType }} initiated<br />
        Transaction hash {{ transactionHash }}<br />
        Awaiting block confirmation...
    </div>
    <div v-if="transactionBlock">Confirmed and mined in block {{ transactionBlock }}</span></div>
    <div v-if="errorMessage">{{ errorMessage }}</div>
    </p>
</div>

<script src="https://unpkg.com/vue@3" type="application/javascript"></script>
<script src="https://cdn.ethers.io/lib/ethers-5.6.6.umd.min.js" type="application/javascript"></script>
<script src="main.js" type="module"></script>